<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Linear Fade Example</title>
<style></style>
</head>
<body>

    <div id=percent>0%</div>

<script type="text/javascript">
(function(){

var ctx = new webkitAudioContext(), 
    url = '../media/Tangerine.mp3',
    percent = document.getElementById('percent'),
    buffer;
  
/**
 * Loads an audio file via XHR.
 */
function loadBuffer(src) {
    var that = this,
        xhr = new XMLHttpRequest();

    xhr.open('GET', src, true);
    xhr.responseType = 'arraybuffer';

    xhr.addEventListener('progress', function(e) {
        var percentComplete;

        if (e.lengthComputable) {
            percentComplete = e.loaded / e.total * 100;
            percent.innerHTML = percentComplete + "%";
        } 

    }, false);

    xhr.addEventListener('load', function(e) {
        
        ctx.decodeAudioData(
            e.target.response,
            function (buffer) {
                buffer = buffer;
            },
            function(err) { 
                console.log("err(decodeAudioData): "+err);
            }
        );
    }, false);

    xhr.send();
}

function createFade() {

}

function play() {

}
  
})();
</script>
</body>
</html>
